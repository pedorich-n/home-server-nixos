{% from "macros/oidc_entry.j2" import oidc_entry with context %}
{% import "macros/utils.j2" as utils with context %}

{% set redirect_uris = [ utils.generate_url("immich") + "/auth/login",
                         utils.generate_url("immich") + "/user-settings",
                         "app.immich:///oauth-callback" ] %}
{{ oidc_entry(name="Immich", slug="immich", application_group=applicationGroups.media, redirect_uris=redirect_uris, extra_property_mappings=[ "immich_role" ]) }}
