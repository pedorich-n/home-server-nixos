{% macro custom_room_grid(room_name, grid_area, sensor_temperature, sensor_humidity, climate_entity) -%}
- type: custom:mod-card
  view_layout:
    grid-area: "{{ grid_area }}"
  <<: *layout-card-mod
  card:
    type: "custom:layout-card"
    layout_type: "custom:grid-layout"
    layout:
      margin: "-4px -4px 0px -4px" # https://github.com/thomasloven/lovelace-layout-card/issues/137#issuecomment-1399632956
      grid-template-columns: "3fr 1fr 1fr"
      grid-template-rows: "auto"
      grid-template-areas: |
        "title state1 state2"
        "body body body"
      mediaquery:
        "(max-width: 600px)":
          grid-template-columns: "3fr 1.75fr 1.75fr"
    cards:
      - type: custom:mushroom-title-card
        title: "{{ room_name }}"
        alignment: start
        <<: *title-card-mod
        view_layout:
          grid-area: "title"

      - type: custom:mushroom-chips-card
        alignment: center
        view_layout:
          grid-area: "state1"
          place-self: "center center"
        chips:
          - type: entity
            entity: {{ sensor_temperature }}
            <<: *chip-card-mod
            icon: mdi:thermometer

      - type: custom:mushroom-chips-card
        alignment: center
        view_layout:
          grid-area: "state2"
          place-self: "center center"
        chips:
          - type: entity
            entity: {{ sensor_humidity }}
            icon: mdi:water-percent
            <<: *chip-card-mod

      - type: tile
        view_layout:
          grid-area: "body"
        features:
          - type: target-temperature
          - style: icons
            type: climate-hvac-modes
        entity: {{ climate_entity }}
        features_position: bottom
        vertical: false
        show_entity_picture: false
        icon: mdi:thermometer
        hide_state: false
        state_content:
          - state
{% endmacro %}
