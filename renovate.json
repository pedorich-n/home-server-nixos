{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "github>pedorich-n/renovate-config"
  ],
  "customManagers": [
    {
      "customType": "regex",
      "description": "Docker containers from a TOML file",
      "managerFilePatterns": [
        "/^versions/containers\\.toml$/"
      ],
      "matchStrings": [
        "\\[(?<depName>[^\\]]+)\\][^\\[]*?digest = \"(?<currentDigest>[^\"]+)\"[^\\[]*?image = \"(?<packageName>[^\"]+)\"[^\\[]*?registry = \"(?<registry>[^\"]+)\"[^\\[]*?version = \"(?<currentValue>[^\"]+)\"[^\\[]*?versioning = \"(?<versioning>[^\"]+)\""
      ],
      "datasourceTemplate": "docker",
      "registryUrlTemplate": "https://{{#if (equals registry 'docker.io')}}index.docker.io{{else}}{{registry}}{{/if}}"
    }
  ],
  "packageRules": [
    {
      "groupName": "All Docker",
      "groupSlug": "all-docker",
      "description": "Group all Docker containers together",
      "matchDatasources": [
        "docker"
      ]
    }
  ]
}